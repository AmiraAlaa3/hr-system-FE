<div class="container px-5 py-3">
    <app-page-title [title]="userId === 0 ? 'Add New User' : 'Edit User'"></app-page-title>
  
    <form (ngSubmit)="onSubmit()" [formGroup]="userForm" class="w-50 mt-5">
      <div class="mb-3">
        <label for="name" class="form-label"><span class="text-danger me-1">*</span>Name</label>
        <input
          type="text"
          formControlName="name"
          class="form-control"
          id="name"
          required
        />
        <ng-container *ngIf="userForm.get('name')?.touched && userForm.get('name')?.hasError('required')">
          <div id="nameHelp" class="form-text mt-2 text-danger">
            Name is required
          </div>
        </ng-container>
      </div>
  
      <div class="mb-3">
        <label for="email" class="form-label"><span class="text-danger me-1">*</span>Email</label>
        <input
          type="email"
          formControlName="email"
          class="form-control"
          id="email"
          required
        />
        <ng-container *ngIf="userForm.get('email')?.touched && userForm.get('email')?.hasError('required')">
          <div id="emailHelp" class="form-text mt-2 text-danger">
            Email is required
          </div>
        </ng-container>
        <ng-container *ngIf="userForm.get('email')?.touched && userForm.get('email')?.hasError('email')">
          <div id="emailHelp" class="form-text mt-2 text-danger">
            Invalid email address
          </div>
        </ng-container>
      </div>
  
      <div class="mb-3">
        <label for="password" class="form-label"><span class="text-danger me-1">*</span>Password</label>
        <input
          type="password"
          formControlName="password"
          class="form-control"
          id="password"
          required
        />
        <ng-container *ngIf="userForm.get('password')?.touched && userForm.get('password')?.hasError('minlength')">
          <div id="passwordHelp" class="form-text mt-2 text-danger">
            Password must be at least 8 characters long
          </div>
        </ng-container>
      </div>
  
      <div class="mb-3">
        <label for="group_ids" class="form-label"><span class="text-danger me-1">*</span>Groups</label>
        <select
          formControlName="group_ids"
          class="form-control"
          id="group_ids"
          multiple
          required
        >
          <option *ngFor="let group of groups" [value]="group.id">{{ group.name }}</option>
        </select>
        <ng-container *ngIf="userForm.get('group_ids')?.touched && userForm.get('group_ids')?.hasError('required')">
          <div id="group_idsHelp" class="form-text mt-2 text-danger">
            At least one group must be selected
          </div>
        </ng-container>
      </div>
  
      <div class="d-flex justify-content-end my-5">
        <button type="submit" class="btn btn-add px-4">
          {{ userId === 0 ? 'Add User' : 'Update User' }}
        </button>
      </div>
    </form>
  </div>
  