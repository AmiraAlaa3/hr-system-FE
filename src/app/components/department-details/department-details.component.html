<div class="container px-5 py-3">
  <header class="my-4">
    <h1 class="page-title">
      <span class="text-muted fw-semibold">All Department ></span> View
      <span class="departname">{{departmentName}}</span> Department
    </h1>
    <p>
      This page will show you all the employees in
      <span class="departname">{{departmentName}}</span> department
    </p>
  </header>
  <div className="table-responsive mb-4">
    @if (department && totalEmployees != 0) {
    <div class="department-details">
      <h2>Employees:</h2>
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef> ID </th>
          <td mat-cell *matCellDef="let employee"> {{ employee.id }} </td>
        </ng-container>

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Name </th>
          <td mat-cell *matCellDef="let employee"> {{ employee.name }} </td>
        </ng-container>

        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef> Email </th>
          <td mat-cell *matCellDef="let employee"> {{ employee.email }} </td>
        </ng-container>

        <ng-container matColumnDef="position">
          <th mat-header-cell *matHeaderCellDef> Position </th>
          <td mat-cell *matCellDef="let employee"> {{ employee.position }} </td>
        </ng-container>

        <ng-container matColumnDef="salary">
          <th mat-header-cell *matHeaderCellDef> Salary </th>
          <td mat-cell *matCellDef="let employee"> {{ employee.salary }} </td>
        </ng-container>

        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef> Action </th>
          <td mat-cell *matCellDef="let employee">
            <button class="btn btn-view me-2"
            [routerLink]="['/employees', employee.id]">
            <i class="bi bi-eye"></i> View
          </button>
        </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
      <mat-paginator
      [length]="totalEmployees"
      [pageSize]="5"
      [pageSizeOptions]="[5, 10]"
      class="my-4"
      showFirstLastButtons>
    </mat-paginator>
    </div>
    }
    @else {
      <p class="mt-3 lead">No employees found in this department.</p>
    }

    <div class="d-flex justify-content-end my-4">
      <button class="btn btn-add px-5" (click)="goBack()">Back</button>
   </div>

  </div>
</div>
